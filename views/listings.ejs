<!-- Listings HTML  -->
<!DOCTYPE html>
<html lang="en">

<head>
  <title>Listings</title>


  <link rel="stylesheet" href="/vendor/normalize-4.1.1.css" type="text/css" />
  <link rel="stylesheet" href="/vendor/border-box.css" type="text/css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fira+Sans:wght@300;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/styles/main.css" type="text/css" />
  <link rel="stylesheet" href="/styles/layout.css" type="text/css" />
  <link rel="stylesheet" href="../styles/nav.css" type="text/css" />
  <link rel="stylesheet" href="../styles/footer.css" type="text/css" />

  <script type="text/javascript" src="/vendor/jquery-3.0.0.js"></script>
  <script type="text/javascript" src="/scripts/app.js"></script>
</head>
<header>
  <%- include("partials/_nav") %>
</header>
<body class="listings">
  <h2>Listings</h2>
  <div class="filters">
    <h2>Filter</h2>
    <form class="filter-form">
      <label class="filter-label">Min Price</label>
      <input class="form-area" type="text" name="min">
      <label class="filter-label">Max Price</label>
      <input class="form-area" type="text" name="max">
      <label class="filter-label" for="cars">Type:</label>
        <select class="form-select" name="category">
          <option value=""></option>
          <option value="1">Shoes</option>
          <option value="2">Auto</option>
          <option value="3">Accessories</option>
          <option value="4">Furniture</option>
          <option value="5">Phones</option>
          <option value="6">Clothing</option>
          <option value="7">Electronics</option>
          <option value="8">Home and Appliances</option>
          <option value="9">Gifts</option>
          <option value="10">Music</option>
        </select>
        <label class="filter-label" for="cars">Condition:</label>
        <select class="form-select" name="condition">
          <option value=""></option>
          <option value="1">New</option>
          <option value="0">Used</option>
        </select>
        <button type="submit" class="button">Apply</button>
    </form>
  </div>

  <div class="show-listings">

    <div class="grid-container">
      <!-- Loops through listings to show data  -->
      <% for (let listing in listings) { %>
      <div class="item-row">
        <a class="button" href="/listings/<%- listings[listing]['id']%>">
        <div class="item-column">
          <img src="<%= listings[listing]['photo_1'] %>">
          <div class="listing-info">
            <!-- Checks if listing is sold -->
            <% if (!listings[listing]['active']) { %>
              <span>Sold</span>
            <% } else { %>
              <span>$<%= listings[listing]['price'] %></span>
            <% } %>
            <span><%= listings[listing]['title'] %></span>
          </div>
        </div>
        </a>
      </div>
      <% } %>
    </div>

  </div>
</body>
<footer>
  <%- include("partials/_footer") %>
</footer>
</html>
